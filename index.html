<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudentCore OS | The Definitive Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: #020617; color: #f8fafc; }
        .glass { background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.05); }
        .nav-item { cursor: pointer; transition: all 0.2s; border-radius: 12px; }
        .nav-active { background: #4f46e5; color: white; box-shadow: 0 10px 20px -5px rgba(79, 70, 229, 0.5); }
        .page-content { display: none; animation: fadeIn 0.3s ease-out; height: 100vh; overflow-y: auto; padding: 2.5rem; }
        .page-active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: #1e293b; border-radius: 10px; }
    </style>
</head>
<body class="flex h-screen overflow-hidden">

    <nav class="w-80 glass border-r border-slate-800 p-6 flex flex-col gap-1 overflow-y-auto">
        <div class="flex items-center gap-3 mb-10 px-2">
            <div class="w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center font-black">S</div>
            <h1 class="text-xl font-extrabold tracking-tighter">STUDENT<span class="text-indigo-500">CORE</span></h1>
        </div>
        <div class="space-y-1" id="navLinks">
            <div onclick="showPage('dashboard')" class="nav-item nav-active p-4 flex items-center gap-4" data-page="dashboard"><span>üìä</span> Dashboard</div>
            <div onclick="showPage('courses')" class="nav-item p-4 flex items-center gap-4" data-page="courses"><span>üìö</span> Courses</div>
            <div onclick="showPage('projects')" class="nav-item p-4 flex items-center gap-4" data-page="projects"><span>üìÇ</span> Projects</div>
            <div onclick="showPage('exams')" class="nav-item p-4 flex items-center gap-4" data-page="exams"><span>üìÖ</span> Exams</div>
            <div onclick="showPage('notes')" class="nav-item p-4 flex items-center gap-4" data-page="notes"><span>üìù</span> Notes</div>
            <div onclick="showPage('library')" class="nav-item p-4 flex items-center gap-4" data-page="library"><span>üìñ</span> Library</div>
            <div onclick="showPage('finance')" class="nav-item p-4 flex items-center gap-4" data-page="finance"><span>üí∞</span> Finance</div>
            <div onclick="showPage('settings')" class="nav-item p-4 flex items-center gap-4 mt-6 opacity-50" data-page="settings"><span>‚öôÔ∏è</span> Settings</div>
        </div>
    </nav>

    <div class="flex-1 relative">
        
        <main id="page-dashboard" class="page-content page-active">
            <h2 class="text-4xl font-black mb-8">Dashboard</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <div class="glass p-8 rounded-[2.5rem] flex items-center justify-between">
                    <div><p class="text-slate-500 font-bold text-xs uppercase">Progress</p><h3 id="compCount" class="text-5xl font-black mt-2">0%</h3></div>
                    <div class="w-24 h-24"><canvas id="taskChart"></canvas></div>
                </div>
                <div class="glass p-8 rounded-[2.5rem] flex flex-col justify-center">
                    <div class="flex gap-2">
                        <input type="text" id="taskInput" placeholder="Add a quick task..." class="bg-slate-900 flex-1 p-3 rounded-xl outline-none border border-slate-800 focus:border-indigo-500">
                        <button onclick="addTask()" class="bg-indigo-600 px-6 rounded-xl font-bold">ADD</button>
                    </div>
                </div>
            </div>
            <div id="taskList" class="space-y-3"></div>
        </main>

        <main id="page-courses" class="page-content">
            <h2 class="text-4xl font-black mb-8">Course Syllabus</h2>
            <div id="courseContainer" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div>
            <div id="topicDetail" class="mt-8 glass p-8 rounded-[2.5rem] hidden">
                <h3 id="currentCourseName" class="text-2xl font-bold text-indigo-400 mb-4"></h3>
                <div id="topicList" class="space-y-2"></div>
            </div>
        </main>

        <main id="page-projects" class="page-content">
            <h2 class="text-4xl font-black mb-8">Project Tracker</h2>
            <div class="glass p-6 rounded-3xl mb-8 flex gap-4">
                <input type="text" id="pName" placeholder="Project Name" class="flex-1 bg-slate-900 p-3 rounded-xl outline-none">
                <input type="number" id="pPerc" placeholder="%" class="w-24 bg-slate-900 p-3 rounded-xl outline-none">
                <button onclick="addProject()" class="bg-indigo-600 px-8 rounded-xl font-bold">CREATE</button>
            </div>
            <div id="projectGrid" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div>
        </main>

        <main id="page-exams" class="page-content">
            <h2 class="text-4xl font-black mb-8">Exam Schedule</h2>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2 glass p-8 rounded-[2.5rem]">
                    <div class="grid grid-cols-7 gap-2 mb-4 text-center text-[10px] font-bold text-slate-500 uppercase">
                        <div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div><div>Sun</div>
                    </div>
                    <div id="calendarGrid" class="grid grid-cols-7 gap-2"></div>
                </div>
                <div class="glass p-8 rounded-[2.5rem]">
                    <h4 class="font-bold mb-4">Upcoming Exams</h4>
                    <div id="examList" class="space-y-4"></div>
                </div>
            </div>
        </main>

        <main id="page-notes" class="page-content">
            <h2 class="text-4xl font-black mb-8">My Notes</h2>
            <div class="glass p-6 rounded-3xl mb-8">
                <textarea id="noteText" placeholder="Start typing..." class="w-full bg-transparent h-32 outline-none resize-none"></textarea>
                <button onclick="addNote()" class="w-full bg-indigo-600 mt-4 py-3 rounded-xl font-bold">SAVE NOTE</button>
            </div>
            <div id="notesGrid" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
        </main>

        <main id="page-library" class="page-content">
            <h2 class="text-4xl font-black mb-8">Library</h2>
            <div class="glass p-6 rounded-3xl mb-8 flex gap-4">
                <input type="text" id="bookInp" placeholder="Book Title" class="flex-1 bg-slate-900 p-3 rounded-xl outline-none">
                <input type="text" id="authInp" placeholder="Author" class="bg-slate-900 p-3 rounded-xl outline-none">
                <button onclick="addBook()" class="bg-indigo-600 px-8 rounded-xl font-bold">ADD</button>
            </div>
            <div id="bookGrid" class="grid grid-cols-2 md:grid-cols-4 gap-6"></div>
        </main>

        <main id="page-finance" class="page-content">
            <h2 class="text-4xl font-black mb-8">Finance Manager</h2>
            <div class="glass p-10 rounded-[3rem] bg-indigo-600/10 mb-8 border border-indigo-500/20 text-center">
                <p class="text-xs font-bold text-indigo-400 uppercase mb-2">Current Balance</p>
                <h3 id="balanceVal" class="text-7xl font-black">$0.00</h3>
            </div>
            <div class="glass p-8 rounded-3xl max-w-xl mx-auto">
                <input type="number" id="finAmount" placeholder="Amount ($)" class="w-full bg-slate-950 p-4 rounded-xl mb-4 border border-slate-800 outline-none">
                <div class="flex gap-4">
                    <button onclick="transact(true)" class="flex-1 bg-green-600 py-4 rounded-xl font-bold">DEPOSIT</button>
                    <button onclick="transact(false)" class="flex-1 bg-red-600 py-4 rounded-xl font-bold">WITHDRAW</button>
                </div>
            </div>
        </main>

        <main id="page-settings" class="page-content">
            <h2 class="text-4xl font-black mb-8">Settings</h2>
            <button onclick="localStorage.clear(); location.reload();" class="glass p-10 rounded-3xl text-red-500 font-bold w-full">FACTORY RESET ALL DATA</button>
        </main>
    </div>

    <script>
        // MASTER STATE
        let state = {
            tasks: JSON.parse(localStorage.getItem('os_tasks')) || [],
            notes: JSON.parse(localStorage.getItem('os_notes')) || [],
            books: JSON.parse(localStorage.getItem('os_books')) || [],
            projects: JSON.parse(localStorage.getItem('os_projs')) || [],
            balance: parseFloat(localStorage.getItem('os_balance')) || 0,
            courses: [
                { name: "Quantum Physics", topics: ["Waves", "Particles", "Schr√∂dinger"] },
                { name: "Computer Science", topics: ["Data Structures", "Algorithms", "React"] }
            ],
            exams: [
                { name: "Math Midterm", day: 15 },
                { name: "Physics Final", day: 24 }
            ]
        };

        function showPage(id) {
            document.querySelectorAll('.page-content').forEach(p => p.classList.remove('page-active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('nav-active'));
            document.getElementById('page-'+id).classList.add('page-active');
            document.querySelector(`[data-page="${id}"]`).classList.add('nav-active');
        }

        // --- TASKS ---
        function updateDashboard() {
            const list = document.getElementById('taskList'); list.innerHTML = '';
            const comp = state.tasks.filter(t => t.completed).length;
            const perc = state.tasks.length > 0 ? Math.round((comp/state.tasks.length)*100) : 0;
            document.getElementById('compCount').innerText = perc + "%";
            state.tasks.forEach((t, i) => {
                list.innerHTML += `<div class="p-4 glass rounded-2xl flex justify-between items-center ${t.completed ? 'opacity-40' : ''}">
                    <div class="flex items-center gap-4"><input type="checkbox" ${t.completed?'checked':''} onchange="toggleTask(${i})" class="w-5 h-5"> <span class="font-bold ${t.completed?'line-through':''}">${t.text}</span></div>
                    <button onclick="deleteTask(${i})">‚úï</button></div>`;
            });
            localStorage.setItem('os_tasks', JSON.stringify(state.tasks));
            renderChart(comp, state.tasks.length - comp);
        }
        function addTask() { const inp = document.getElementById('taskInput'); if(inp.value) { state.tasks.unshift({text:inp.value, completed:false}); inp.value=''; updateDashboard(); }}
        function toggleTask(i) { state.tasks[i].completed = !state.tasks[i].completed; updateDashboard(); }
        function deleteTask(i) { state.tasks.splice(i,1); updateDashboard(); }

        // --- COURSES ---
        function renderCourses() {
            const container = document.getElementById('courseContainer'); container.innerHTML = '';
            state.courses.forEach((c, i) => {
                container.innerHTML += `<div onclick="showTopics(${i})" class="glass p-8 rounded-[2rem] border-l-4 border-indigo-500 cursor-pointer hover:bg-slate-800">
                    <h4 class="text-xl font-bold">${c.name}</h4><p class="text-xs text-slate-500 mt-2">Click to see ${c.topics.length} topics</p>
                </div>`;
            });
        }
        function showTopics(idx) {
            const c = state.courses[idx];
            document.getElementById('topicDetail').classList.remove('hidden');
            document.getElementById('currentCourseName').innerText = c.name;
            const list = document.getElementById('topicList'); list.innerHTML = '';
            c.topics.forEach(t => list.innerHTML += `<div class="p-4 glass rounded-xl flex gap-3"><input type="checkbox"><span>${t}</span></div>`);
            document.getElementById('topicDetail').scrollIntoView({behavior:'smooth'});
        }

        // --- PROJECTS ---
        function updateProjects() {
            const grid = document.getElementById('projectGrid'); grid.innerHTML = '';
            state.projects.forEach((p, i) => {
                grid.innerHTML += `<div class="glass p-6 rounded-3xl">
                    <div class="flex justify-between font-bold mb-3"><span>${p.name}</span><span class="text-indigo-400">${p.perc}%</span></div>
                    <div class="w-full bg-slate-800 h-2 rounded-full overflow-hidden"><div class="bg-indigo-500 h-full" style="width:${p.perc}%"></div></div>
                    <button onclick="state.projects.splice(${i},1); updateProjects();" class="text-[10px] mt-4 opacity-50 hover:text-red-500">REMOVE</button>
                </div>`;
            });
            localStorage.setItem('os_projs', JSON.stringify(state.projects));
        }
        function addProject() {
            const n = document.getElementById('pName'); const p = document.getElementById('pPerc');
            if(n.value && p.value) { state.projects.unshift({name: n.value, perc: p.value}); n.value=''; p.value=''; updateProjects(); }
        }

        // --- EXAMS ---
        function updateExams() {
            const grid = document.getElementById('calendarGrid'); grid.innerHTML = '';
            const list = document.getElementById('examList'); list.innerHTML = '';
            for(let i=1; i<=31; i++) {
                const ex = state.exams.find(e => e.day === i);
                grid.innerHTML += `<div class="h-14 glass rounded-xl flex items-center justify-center text-xs ${ex?'bg-indigo-600/40 border-indigo-500 font-bold': 'opacity-20'}">${i}</div>`;
                if(ex) list.innerHTML += `<div class="p-4 glass rounded-2xl border-l-4 border-orange-500"><p class="font-bold">${ex.name}</p><p class="text-[10px] opacity-50 uppercase">Day ${ex.day}</p></div>`;
            }
        }

        // --- NOTES ---
        function updateNotes() {
            const grid = document.getElementById('notesGrid'); grid.innerHTML = '';
            state.notes.forEach((n, i) => {
                grid.innerHTML += `<div class="glass p-6 rounded-3xl group relative">
                    <p class="text-sm whitespace-pre-wrap">${n}</p>
                    <button onclick="state.notes.splice(${i},1); updateNotes();" class="absolute top-4 right-4 text-red-500 opacity-0 group-hover:opacity-100">‚úï</button>
                </div>`;
            });
            localStorage.setItem('os_notes', JSON.stringify(state.notes));
        }
        function addNote() { const inp = document.getElementById('noteText'); if(inp.value) { state.notes.unshift(inp.value); inp.value=''; updateNotes(); }}

        // --- LIBRARY ---
        function updateLibrary() {
            const grid = document.getElementById('bookGrid'); grid.innerHTML = '';
            state.books.forEach((b, i) => {
                grid.innerHTML += `<div class="glass p-4 rounded-2xl text-center group relative">
                    <div class="aspect-[3/4] bg-slate-800 rounded-xl mb-3 flex items-center justify-center">üìñ</div>
                    <p class="font-bold text-sm truncate">${b.t}</p><p class="text-[10px] opacity-50">${b.a}</p>
                    <button onclick="state.books.splice(${i},1); updateLibrary();" class="absolute top-2 right-2 text-red-500 opacity-0 group-hover:opacity-100">‚úï</button>
                </div>`;
            });
            localStorage.setItem('os_books', JSON.stringify(state.books));
        }
        function addBook() {
            const t = document.getElementById('bookInp'); const a = document.getElementById('authInp');
            if(t.value) { state.books.push({t: t.value, a: a.value}); t.value=''; a.value=''; updateLibrary(); }
        }

        // --- FINANCE ---
        function transact(isDep) {
            const val = parseFloat(document.getElementById('finAmount').value);
            if(!isNaN(val)) { state.balance = isDep ? state.balance + val : state.balance - val; renderBalance(); }
        }
        function renderBalance() {
            document.getElementById('balanceVal').innerText = `$${state.balance.toFixed(2)}`;
            localStorage.setItem('os_balance', state.balance);
            document.getElementById('finAmount').value = '';
        }

        // --- CHART ---
        let myChart;
        function renderChart(c, p) {
            const ctx = document.getElementById('taskChart').getContext('2d');
            if (myChart) myChart.destroy();
            myChart = new Chart(ctx, { type: 'doughnut', data: { datasets: [{ data: [c, p === 0 && c === 0 ? 1 : p], backgroundColor: ['#4f46e5', '#1e293b'], borderWidth: 0 }] }, options: { cutout: '80%', plugins: { legend: { display: false } } } });
        }

        // INIT ALL
        updateDashboard(); renderCourses(); updateProjects(); updateExams(); updateNotes(); updateLibrary(); renderBalance();
    </script>
</body>
</html>
